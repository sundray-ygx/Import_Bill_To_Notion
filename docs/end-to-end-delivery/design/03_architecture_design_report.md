# Design Phase - æ¶æ„è®¾è®¡æŠ¥å‘Š

**é¡¹ç›®**: Notion Bill Importer - è´¦å•ç®¡ç†ç³»ç»Ÿé¦–é¡µä¸ä»ªè¡¨ç›˜é‡æ„
**æ—¥æœŸ**: 2026-02-06
**é˜¶æ®µ**: Design Phase (æ¶æ„è®¾è®¡)
**Agent**: Design Agent

---

## æ‰§è¡Œæ‘˜è¦

æœ¬é˜¶æ®µåŸºäºéœ€æ±‚å‘ç°å’Œä»£ç åº“æ¢ç´¢çš„æˆæœï¼Œè®¾è®¡äº†å®Œæ•´çš„UI/UXæ¶æ„æ–¹æ¡ˆï¼ŒåŒ…æ‹¬3ä¸ªæ–¹æ¡ˆå¯¹æ¯”ã€è¯¦ç»†çš„é¡µé¢å¸ƒå±€ã€ç»„ä»¶è®¾è®¡ã€äº¤äº’è§„èŒƒå’Œå®æ–½è“å›¾ã€‚

### æ¨èæ–¹æ¡ˆ

**æ–¹æ¡ˆC - åŠ¡å®çš„å¹³è¡¡**ï¼ˆæ¨èï¼‰

**æ¨èç†ç”±**:
- ç¬¦åˆ1å‘¨MVPçš„æ—¶é—´çº¦æŸ
- æä¾›è¶³å¤Ÿå¥½çš„ç”¨æˆ·ä½“éªŒ
- å¢é‡å¼å¼€å‘ï¼Œé£é™©å¯æ§
- ä¸ºæœªæ¥æ‰©å±•é¢„ç•™ç©ºé—´

---

## 1. æ–¹æ¡ˆå¯¹æ¯”åˆ†æ

### æ–¹æ¡ˆA: æœ€å°å˜æ›´æ–¹æ¡ˆ

**æè¿°**:
- ä¿æŒç°æœ‰workspace.htmlç»“æ„
- ä»…æ·»åŠ dashboardè§†å›¾çš„HTMLå’ŒCSS
- æœ€å°åŒ–JavaScriptä¿®æ”¹

**ä¼˜åŠ¿**:
- é£é™©æœ€ä½
- å¼€å‘æœ€å¿«ï¼ˆ2-3å¤©ï¼‰
- æ˜“äºç»´æŠ¤

**åŠ£åŠ¿**:
- ç”¨æˆ·ä½“éªŒä¸€èˆ¬
- ç¼ºå°‘åŠ¨ç”»å’Œè¿‡æ¸¡
- æ‰©å±•æ€§æœ‰é™

**é€‚ç”¨åœºæ™¯**: æ—¶é—´æåº¦ç´§å¼ ï¼ˆ<3å¤©ï¼‰

### æ–¹æ¡ˆB: æ¸…æ™°æ¶æ„æ–¹æ¡ˆ

**æè¿°**:
- é‡æ–°ç»„ç»‡workspace.htmlç»“æ„
- åˆ›å»ºç‹¬ç«‹çš„DashboardViewç±»
- å®ç°å®Œæ•´çš„çŠ¶æ€ç®¡ç†

**ä¼˜åŠ¿**:
- ä»£ç ç»„ç»‡æ¸…æ™°
- æ˜“äºæ‰©å±•
- ç”¨æˆ·ä½“éªŒå¥½

**åŠ£åŠ¿**:
- å¼€å‘æ—¶é—´è¾ƒé•¿ï¼ˆ5-7å¤©ï¼‰
- å¤æ‚åº¦è¾ƒé«˜
- éœ€è¦æ›´å¤šæµ‹è¯•

**é€‚ç”¨åœºæ™¯**: æ—¶é—´å……è£•ï¼ˆ>1å‘¨ï¼‰ï¼Œé•¿æœŸç»´æŠ¤

### æ–¹æ¡ˆC: åŠ¡å®çš„å¹³è¡¡æ–¹æ¡ˆ â­ æ¨è

**æè¿°**:
- ä¿æŒç°æœ‰workspace.htmlç»“æ„
- åˆ›å»ºDashboardViewæ¨¡å—ï¼ˆIIFEï¼‰
- å®ç°å…³é”®äº¤äº’å’ŒåŠ¨ç”»
- ç®€å•çš„çŠ¶æ€ç®¡ç†

**ä¼˜åŠ¿**:
- å¹³è¡¡é£é™©å’Œæ”¶ç›Š
- å¼€å‘æ—¶é—´é€‚ä¸­ï¼ˆ4-5å¤©ï¼‰
- ç”¨æˆ·ä½“éªŒè‰¯å¥½
- æ˜“äºæ‰©å±•

**åŠ£åŠ¿**:
- éœ€è¦ä¸€å®šçš„è®¾è®¡å†³ç­–
- éœ€è¦ç¼–å†™æ–°ä»£ç 

**é€‚ç”¨åœºæ™¯**: 1å‘¨MVPï¼ˆæ¨èï¼‰

---

## 2. é¡µé¢å¸ƒå±€è®¾è®¡

### 2.1 Dashboardè§†å›¾å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Workspace Header                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Logo | Title | User Profile                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sidebar â”‚  Main Content Area                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”¼  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â€¢ Dashboardâ”‚  Header                                      â”‚ â”‚
â”‚  â€¢ Bills   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â€¢ History â”‚  â”‚ Dashboard Overview  [Refresh Button]   â”‚ â”‚ â”‚
â”‚  â€¢ Review  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â€¢ Settingsâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚           â”‚  â”‚ Stat Cards (4 columns)                  â”‚ â”‚ â”‚
â”‚           â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”        â”‚ â”‚ â”‚
â”‚           â”‚  â”‚ â”‚æ”¶å…¥ â”‚ â”‚æ”¯å‡º â”‚ â”‚ä½™é¢ â”‚ â”‚äº¤æ˜“æ•°â”‚        â”‚ â”‚ â”‚
â”‚           â”‚  â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜        â”‚ â”‚ â”‚
â”‚           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚           â”‚  â”‚ Activity Timeline                       â”‚ â”‚ â”‚
â”‚           â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚
â”‚           â”‚  â”‚ â”‚ â€¢ Imported 5 bills      2 min ago  â”‚ â”‚ â”‚ â”‚
â”‚           â”‚  â”‚ â”‚ â€¢ Generated review      1 hour ago â”‚ â”‚ â”‚ â”‚
â”‚           â”‚  â”‚ â”‚ â€¢ Imported 3 bills      3 hours agoâ”‚ â”‚ â”‚ â”‚
â”‚           â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚
â”‚           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 å“åº”å¼å¸ƒå±€

| æ–­ç‚¹ | åˆ—æ•° | å¡ç‰‡å®½åº¦ | è¯´æ˜ |
|------|------|----------|------|
| â‰¥1200px | 4åˆ— | ~250px | æ¡Œé¢å¤§å± |
| 768-1199px | 2åˆ— | ~45% | å¹³æ¿/å°æ¡Œé¢ |
| <768px | 1åˆ— | 100% | æ‰‹æœºï¼ˆæš‚ä¸éœ€è¦ï¼‰ |

---

## 3. ç»„ä»¶è®¾è®¡è§„èŒƒ

### 3.1 StatCard ç»„ä»¶

**ç”¨é€”**: æ˜¾ç¤ºè´¢åŠ¡ç»Ÿè®¡æ•°æ®ï¼ˆæ”¶å…¥ã€æ”¯å‡ºã€ä½™é¢ã€äº¤æ˜“æ•°ï¼‰

#### HTMLç»“æ„

```html
<div class="stat-card" data-type="income">
  <div class="stat-card__header">
    <h3 class="stat-card__title">æœ¬æœˆæ”¶å…¥</h3>
    <span class="stat-card__trend positive">â†‘ 12%</span>
  </div>
  <div class="stat-card__value">Â¥12,345.67</div>
  <div class="stat-card__footer">
    <span class="stat-card__label">è¾ƒä¸Šæœˆ</span>
    <span class="stat-card__change">+Â¥1,234.56</span>
  </div>
</div>
```

#### CSSæ ·å¼

```css
.stat-card {
  background: var(--bg-primary);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-md);
  padding: var(--spacing-4);
  box-shadow: var(--shadow-sm);
  transition: var(--transition-base);
}

.stat-card:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

.stat-card__value {
  font-size: var(--font-2xl);
  font-weight: var(--font-bold);
  color: var(--text-primary);
  margin: var(--spacing-2) 0;
}

.stat-card__trend.positive {
  color: var(--color-success-600);
}

.stat-card__trend.negative {
  color: var(--color-error-600);
}
```

#### JavaScriptæ¥å£

```javascript
const StatCard = {
  create(data) {
    // åˆ›å»ºStatCard DOMå…ƒç´ 
  },

  update(data) {
    // æ›´æ–°StatCardæ•°æ®
  },

  setValue(value) {
    // æ›´æ–°æ•°å€¼
  },

  setTrend(trend, percentage) {
    // è®¾ç½®è¶‹åŠ¿æŒ‡ç¤ºå™¨
  }
};
```

### 3.2 ActivityTimeline ç»„ä»¶

**ç”¨é€”**: æ˜¾ç¤ºæœ€è¿‘æ´»åŠ¨ï¼ˆè´¦å•å¯¼å…¥ã€å¤ç›˜ç”Ÿæˆç­‰ï¼‰

#### HTMLç»“æ„

```html
<div class="activity-timeline">
  <div class="activity-timeline__header">
    <h3>æœ€è¿‘æ´»åŠ¨</h3>
    <select class="activity-timeline__filter">
      <option value="all">å…¨éƒ¨</option>
      <option value="import">å¯¼å…¥</option>
      <option value="review">å¤ç›˜</option>
      <option value="error">é”™è¯¯</option>
    </select>
  </div>
  <div class="activity-timeline__items">
    <div class="activity-item" data-type="import">
      <div class="activity-item__icon">ğŸ“¥</div>
      <div class="activity-item__content">
        <h4 class="activity-item__title">å¯¼å…¥è´¦å•</h4>
        <p class="activity-item__description">å¯¼å…¥äº†5æ¡æ”¯ä»˜å®è´¦å•</p>
        <span class="activity-item__time">2åˆ†é’Ÿå‰</span>
      </div>
      <span class="activity-item__status success">æˆåŠŸ</span>
    </div>
    <!-- æ›´å¤šæ´»åŠ¨é¡¹ -->
  </div>
</div>
```

#### CSSæ ·å¼

```css
.activity-timeline {
  background: var(--bg-primary);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-md);
  padding: var(--spacing-4);
}

.activity-item {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-3);
  padding: var(--spacing-3) 0;
  border-bottom: 1px solid var(--border-light);
}

.activity-item:last-child {
  border-bottom: none;
}

.activity-item__icon {
  font-size: 24px;
  line-height: 1;
}

.activity-item__status.success {
  color: var(--color-success-600);
}

.activity-item__status.error {
  color: var(--color-error-600);
}
```

#### JavaScriptæ¥å£

```javascript
const ActivityTimeline = {
  create() {
    // åˆ›å»ºActivityTimeline DOMå…ƒç´ 
  },

  render(activities) {
    // æ¸²æŸ“æ´»åŠ¨åˆ—è¡¨
  },

  filter(type) {
    // æŒ‰ç±»å‹ç­›é€‰
  },

  append(activity) {
    // æ·»åŠ æ–°æ´»åŠ¨
  }
};
```

### 3.3 RefreshManager ç»„ä»¶

**ç”¨é€”**: ç®¡ç†æ•°æ®åˆ·æ–°é€»è¾‘ï¼ˆæ‰‹åŠ¨+è‡ªåŠ¨ï¼‰

#### JavaScriptæ¥å£

```javascript
const RefreshManager = {
  config: {
    autoRefresh: true,
    interval: 60000, // 60ç§’
    manualRefresh: true
  },

  init(callback) {
    // åˆå§‹åŒ–åˆ·æ–°ç®¡ç†å™¨
    // è®¾ç½®è‡ªåŠ¨åˆ·æ–°å®šæ—¶å™¨
    // ç»‘å®šåˆ·æ–°æŒ‰é’®äº‹ä»¶
  },

  start() {
    // å¼€å§‹è‡ªåŠ¨åˆ·æ–°
  },

  stop() {
    // åœæ­¢è‡ªåŠ¨åˆ·æ–°
  },

  refresh() {
    // æ‰‹åŠ¨è§¦å‘åˆ·æ–°
  },

  setCallback(callback) {
    // è®¾ç½®åˆ·æ–°å›è°ƒ
  }
};
```

---

## 4. äº¤äº’è®¾è®¡è¯´æ˜

### 4.1 è§†å›¾åˆ‡æ¢æµç¨‹

```
ç”¨æˆ·ç‚¹å‡»å¯¼èˆªé¡¹
    â†“
æ›´æ–°nav-item activeçŠ¶æ€
    â†“
éšè—å½“å‰è§†å›¾ï¼ˆopacity: 0, duration: 200msï¼‰
    â†“
åˆ‡æ¢åˆ°æ–°è§†å›¾ï¼ˆdisplay: none â†’ block, opacity: 0 â†’ 1ï¼‰
    â†“
æ˜¾ç¤ºæ–°è§†å›¾ï¼ˆopacity: 1, duration: 200msï¼‰
    â†“
åŠ è½½è§†å›¾æ•°æ®ï¼ˆå¦‚æœéœ€è¦ï¼‰
    â†“
æ¸²æŸ“æ•°æ®
```

### 4.2 æ•°æ®åŠ è½½åé¦ˆ

```
è§¦å‘æ•°æ®åŠ è½½
    â†“
æ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼ˆéª¨æ¶å±æˆ–spinnerï¼‰
    â†“
å‘é€APIè¯·æ±‚
    â†“
    â”œâ”€ æˆåŠŸ â†’ éšè—åŠ è½½çŠ¶æ€ â†’ æ¸²æŸ“æ•°æ® â†’ æ˜¾ç¤ºæˆåŠŸToast
    â”‚
    â””â”€ å¤±è´¥ â†’ éšè—åŠ è½½çŠ¶æ€ â†’ æ˜¾ç¤ºé”™è¯¯Toast â†’ æ˜¾ç¤ºé”™è¯¯æç¤º
```

### 4.3 åˆ·æ–°äº¤äº’æµç¨‹

```
ç”¨æˆ·ç‚¹å‡»åˆ·æ–°æŒ‰é’®
    â†“
æŒ‰é’®è¿›å…¥åŠ è½½çŠ¶æ€ï¼ˆspinneråŠ¨ç”»ï¼‰
    â†“
å‘é€åˆ·æ–°è¯·æ±‚
    â†“
    â”œâ”€ æˆåŠŸ â†’ æ›´æ–°æ•°æ® â†’ æŒ‰é’®æ¢å¤ â†’ æ˜¾ç¤ºæˆåŠŸToast
    â”‚
    â””â”€ å¤±è´¥ â†’ æŒ‰é’®æ¢å¤ â†’ æ˜¾ç¤ºé”™è¯¯Toast
```

### 4.4 åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ

| äº¤äº’ | æ•ˆæœ | æŒç»­æ—¶é—´ | ç¼“åŠ¨å‡½æ•° |
|------|------|----------|----------|
| è§†å›¾åˆ‡æ¢ | æ·¡å…¥æ·¡å‡º | 200ms | ease-out |
| å¡ç‰‡æ‚¬åœ | ä¸Šç§»+é˜´å½±å¢å¼º | 200ms | ease-out |
| æŒ‰é’®ç‚¹å‡» | ç¼©æ”¾ | 100ms | ease-out |
| Toastå‡ºç° | æ»‘å…¥+æ·¡å…¥ | 300ms | ease-spring |
| Toastæ¶ˆå¤± | æ»‘å‡º+æ·¡å‡º | 200ms | ease-in |

---

## 5. æ•°æ®æ¥å£è®¾è®¡

### 5.1 æ‰©å±•ç°æœ‰API

#### GET /api/dashboard/stats

**è¯·æ±‚**:
```http
GET /api/dashboard/stats
Authorization: Bearer <token>
```

**å“åº”**:
```json
{
  "success": true,
  "data": {
    "monthly_income": 12345.67,
    "monthly_expense": 8765.43,
    "balance": 3580.24,
    "transaction_count": 156,
    "income_trend": 12.5,
    "expense_trend": -5.3,
    "last_updated": "2026-02-06T10:30:00Z"
  }
}
```

#### GET /api/dashboard/activity

**è¯·æ±‚**:
```http
GET /api/dashboard/activity?limit=10&type=all
Authorization: Bearer <token>
```

**å“åº”**:
```json
{
  "success": true,
  "data": {
    "activities": [
      {
        "id": 1,
        "type": "import",
        "title": "å¯¼å…¥è´¦å•",
        "description": "å¯¼å…¥äº†5æ¡æ”¯ä»˜å®è´¦å•",
        "status": "success",
        "created_at": "2026-02-06T10:25:00Z"
      },
      {
        "id": 2,
        "type": "review",
        "title": "ç”Ÿæˆå¤ç›˜",
        "description": "ç”Ÿæˆäº†2024å¹´1æœˆè´¢åŠ¡å¤ç›˜",
        "status": "success",
        "created_at": "2026-02-06T09:15:00Z"
      }
    ],
    "total": 25,
    "has_more": true
  }
}
```

#### POST /api/dashboard/refresh

**è¯·æ±‚**:
```http
POST /api/dashboard/refresh
Authorization: Bearer <token>
```

**å“åº”**:
```json
{
  "success": true,
  "data": {
    "stats": {...},
    "activity": {...}
  }
}
```

### 5.2 å¹¶è¡Œè¯·æ±‚ä¼˜åŒ–

```javascript
// å¹¶è¡Œè¯·æ±‚statså’Œactivity
async function loadDashboardData() {
  const [statsResponse, activityResponse] = await Promise.all([
    fetch('/api/dashboard/stats'),
    fetch('/api/dashboard/activity?limit=10')
  ]);

  const stats = await statsResponse.json();
  const activity = await activityResponse.json();

  return { stats, activity };
}
```

---

## 6. è§†è§‰è§„èŒƒ

### 6.1 é¢œè‰²ä½¿ç”¨è§„èŒƒ

| å…ƒç´  | é¢œè‰²å˜é‡ | ç”¨é€” |
|------|----------|------|
| ä¸»æŒ‰é’® | --color-primary-600 | ä¸»è¦æ“ä½œ |
| æˆåŠŸ/æ”¶å…¥ | --color-success-600 | æˆåŠŸçŠ¶æ€ã€æ”¶å…¥ |
| é”™è¯¯/æ”¯å‡º | --color-error-600 | é”™è¯¯çŠ¶æ€ã€æ”¯å‡º |
| è­¦å‘Š | --color-warning-600 | è­¦å‘Šæç¤º |
| ä¿¡æ¯ | --color-info-600 | ä¿¡æ¯æç¤º |
| æ–‡æœ¬ä¸» | --text-primary | ä¸»è¦æ–‡æœ¬ |
| æ–‡æœ¬æ¬¡ | --text-secondary | æ¬¡è¦æ–‡æœ¬ |
| è¾¹æ¡† | --border-light | è¾¹æ¡†ã€åˆ†å‰²çº¿ |

### 6.2 é—´è·è§„èŒƒ

åŸºäº8pxç½‘æ ¼ç³»ç»Ÿï¼š

| å˜é‡ | å€¼ | ç”¨é€” |
|------|-----|------|
| --spacing-1 | 4px | æå°é—´è· |
| --spacing-2 | 8px | å°é—´è· |
| --spacing-3 | 12px | ä¸­å°é—´è· |
| --spacing-4 | 16px | ä¸­ç­‰é—´è· |
| --spacing-6 | 24px | ä¸­å¤§é—´è· |
| --spacing-8 | 32px | å¤§é—´è· |

### 6.3 å­—ä½“è§„èŒƒ

| å…ƒç´  | å­—ä½“å˜é‡ | å¤§å° | å­—é‡ |
|------|----------|------|------|
| æ ‡é¢˜ | --font-display | 24-32px | --font-bold |
| æ­£æ–‡ | --font-body | 14-16px | --font-normal |
| å°æ–‡æœ¬ | --font-body | 12px | --font-normal |
| æ•°å€¼ | --font-mono | 18-24px | --font-semibold |

### 6.4 å›¾æ ‡ä½¿ç”¨è§„èŒƒ

| ç±»å‹ | å¤§å° | æ ¼å¼ |
|------|------|------|
| å¯¼èˆªå›¾æ ‡ | 24x24 | SVG |
| åŠŸèƒ½å›¾æ ‡ | 20x20 | SVG |
| çŠ¶æ€å›¾æ ‡ | 16x16 | SVG |
| Emoji | 24px | Unicode |

---

## 7. å®æ–½è“å›¾

### 7.1 é˜¶æ®µè§„åˆ’ï¼ˆ5ä¸ªé˜¶æ®µï¼‰

#### Phase 1: åŸºç¡€è®¾æ–½ï¼ˆç¬¬1å¤©ï¼‰

**ä»»åŠ¡**:
1. æ‰©å±•dashboard.py API
   - [ ] æ·»åŠ activityæ¥å£ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
   - [ ] æ·»åŠ refreshæ¥å£
   - [ ] ç»Ÿä¸€å“åº”æ ¼å¼

2. åˆ›å»ºdashboard-view.js
   - [ ] å®šä¹‰DashboardViewæ¨¡å—
   - [ ] å®ç°init()æ–¹æ³•
   - [ ] å®ç°loadData()æ–¹æ³•
   - [ ] å®ç°render()æ–¹æ³•

3. åˆ›å»ºtimeline.css
   - [ ] å®šä¹‰ActivityTimelineæ ·å¼
   - [ ] å®šä¹‰ActivityItemæ ·å¼
   - [ ] å®šä¹‰ç­›é€‰å™¨æ ·å¼

4. ä¿®æ”¹workspace.html
   - [ ] æ·»åŠ dashboardè§†å›¾HTML
   - [ ] å¼•å…¥timeline.css
   - [ ] å¼•å…¥dashboard-view.js

#### Phase 2: æ ¸å¿ƒç»„ä»¶ï¼ˆç¬¬2-3å¤©ï¼‰

**ä»»åŠ¡**:
1. å®ç°StatCardç»„ä»¶
   - [ ] åˆ›å»ºStatCard HTMLç»“æ„
   - [ ] å®ç°StatCard CSSæ ·å¼
   - [ ] å®ç°StatCard JSé€»è¾‘
   - [ ] å®ç°è¶‹åŠ¿æŒ‡ç¤ºå™¨

2. å®ç°ActivityTimelineç»„ä»¶
   - [ ] åˆ›å»ºActivityTimeline HTMLç»“æ„
   - [ ] å®ç°ActivityTimeline CSSæ ·å¼
   - [ ] å®ç°ActivityTimeline JSé€»è¾‘
   - [ ] å®ç°ç­›é€‰åŠŸèƒ½

3. å®ç°RefreshManagerç»„ä»¶
   - [ ] åˆ›å»ºRefreshManageræ¨¡å—
   - [ ] å®ç°æ‰‹åŠ¨åˆ·æ–°
   - [ ] å®ç°è‡ªåŠ¨åˆ·æ–°ï¼ˆ60ç§’ï¼‰
   - [ ] å®ç°åˆ·æ–°çŠ¶æ€æŒ‡ç¤º

4. å®ç°LoadingStateç»„ä»¶
   - [ ] åˆ›å»ºéª¨æ¶å±HTML
   - [ ] å®ç°éª¨æ¶å±CSSåŠ¨ç”»
   - [ ] å®ç°åŠ è½½çŠ¶æ€åˆ‡æ¢é€»è¾‘

#### Phase 3: é›†æˆä¸äº¤äº’ï¼ˆç¬¬4å¤©ï¼‰

**ä»»åŠ¡**:
1. é›†æˆåˆ°workspace.js
   - [ ] æ·»åŠ DashboardViewæ³¨å†Œ
   - [ ] å®ç°è§†å›¾åˆ‡æ¢é€»è¾‘
   - [ ] å®ç°cleanupView()æ–¹æ³•

2. å®ç°æ•°æ®åˆ·æ–°
   - [ ] ç»‘å®šåˆ·æ–°æŒ‰é’®äº‹ä»¶
   - [ ] å®ç°åˆ·æ–°åŠ¨ç”»
   - [ ] å®ç°Toasté€šçŸ¥

3. å®ç°é”™è¯¯å¤„ç†
   - [ ] æ•è·APIé”™è¯¯
   - [ ] æ˜¾ç¤ºé”™è¯¯Toast
   - [ ] æ˜¾ç¤ºé”™è¯¯æç¤º

4. å®ç°è§†å›¾åˆ‡æ¢åŠ¨ç”»
   - [ ] æ·»åŠ æ·¡å…¥æ·¡å‡ºæ•ˆæœ
   - [ ] è°ƒæ•´åŠ¨ç”»æ—¶é•¿

#### Phase 4: ä¼˜åŒ–ä¸æµ‹è¯•ï¼ˆç¬¬5å¤©ï¼‰

**ä»»åŠ¡**:
1. æ€§èƒ½ä¼˜åŒ–
   - [ ] ä¼˜åŒ–DOMæ“ä½œ
   - [ ] å®ç°æ•°æ®ç¼“å­˜ï¼ˆ5åˆ†é’ŸTTLï¼‰
   - [ ] æ·»åŠ é˜²æŠ–/èŠ‚æµ

2. å“åº”å¼æµ‹è¯•
   - [ ] æµ‹è¯•4åˆ—å¸ƒå±€ï¼ˆâ‰¥1200pxï¼‰
   - [ ] æµ‹è¯•2åˆ—å¸ƒå±€ï¼ˆ768-1199pxï¼‰
   - [ ] æµ‹è¯•1åˆ—å¸ƒå±€ï¼ˆ<768pxï¼‰

3. æ— éšœç¢æ£€æŸ¥
   - [ ] æ£€æŸ¥é¢œè‰²å¯¹æ¯”åº¦ï¼ˆâ‰¥4.5:1ï¼‰
   - [ ] æ·»åŠ ARIAæ ‡ç­¾
   - [ ] æµ‹è¯•é”®ç›˜å¯¼èˆª

4. è·¨æµè§ˆå™¨æµ‹è¯•
   - [ ] Chromeæœ€æ–°+2ç‰ˆæœ¬
   - [ ] Firefoxæœ€æ–°+2ç‰ˆæœ¬
   - [ ] Safariæœ€æ–°+2ç‰ˆæœ¬
   - [ ] Edgeæœ€æ–°+2ç‰ˆæœ¬

### 7.2 ä»»åŠ¡åˆ†è§£ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰

#### P0 ä»»åŠ¡ï¼ˆå¿…é¡»å®Œæˆï¼‰

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | é¢„è®¡æ—¶é—´ | è´Ÿè´£äºº |
|--------|----------|----------|--------|
| T001 | æ‰©å±•dashboard API | 2å°æ—¶ | åç«¯å¼€å‘ |
| T002 | åˆ›å»ºdashboard-view.js | 3å°æ—¶ | å‰ç«¯å¼€å‘ |
| T003 | å®ç°StatCardç»„ä»¶ | 4å°æ—¶ | å‰ç«¯å¼€å‘ |
| T004 | å®ç°ActivityTimelineç»„ä»¶ | 5å°æ—¶ | å‰ç«¯å¼€å‘ |
| T005 | å®ç°RefreshManager | 3å°æ—¶ | å‰ç«¯å¼€å‘ |
| T006 | é›†æˆåˆ°workspace.js | 2å°æ—¶ | å‰ç«¯å¼€å‘ |
| T007 | å®ç°è§†å›¾åˆ‡æ¢ | 2å°æ—¶ | å‰ç«¯å¼€å‘ |
| T008 | é”™è¯¯å¤„ç† | 2å°æ—¶ | å‰ç«¯å¼€å‘ |

#### P1 ä»»åŠ¡ï¼ˆåº”è¯¥å®Œæˆï¼‰

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | é¢„è®¡æ—¶é—´ | è´Ÿè´£äºº |
|--------|----------|----------|--------|
| T101 | æ€§èƒ½ä¼˜åŒ– | 3å°æ—¶ | å‰ç«¯å¼€å‘ |
| T102 | å“åº”å¼æµ‹è¯• | 2å°æ—¶ | QA |
| T103 | æ— éšœç¢æ£€æŸ¥ | 2å°æ—¶ | QA |
| T104 | è·¨æµè§ˆå™¨æµ‹è¯• | 2å°æ—¶ | QA |

#### P2 ä»»åŠ¡ï¼ˆå¯ä»¥å»¶åï¼‰

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | é¢„è®¡æ—¶é—´ | è´Ÿè´£äºº |
|--------|----------|----------|--------|
| T201 | æ·»åŠ åŠ¨ç”»æ•ˆæœ | 2å°æ—¶ | å‰ç«¯å¼€å‘ |
| T202 | æ•°æ®å¯¼å‡ºåŠŸèƒ½ | 4å°æ—¶ | å…¨æ ˆå¼€å‘ |
| T203 | è‡ªå®šä¹‰æ—¶é—´èŒƒå›´ | 3å°æ—¶ | å…¨æ ˆå¼€å‘ |

### 7.3 é£é™©ç¼“è§£æªæ–½

| é£é™© | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½ | åº”æ€¥é¢„æ¡ˆ |
|------|------|------|----------|----------|
| APIå“åº”æ…¢ | ä¸­ | ä¸­ | æ·»åŠ ç¼“å­˜ï¼Œä¼˜åŒ–æŸ¥è¯¢ | æ˜¾ç¤ºloadingï¼Œå…è®¸é‡è¯• |
| æµè§ˆå™¨å…¼å®¹æ€§ | ä½ | ä¸­ | ä½¿ç”¨æ ‡å‡†API | é™çº§æ–¹æ¡ˆ |
| çŠ¶æ€ç®¡ç†å¤æ‚ | ä¸­ | é«˜ | ä¿æŒç®€å• | ä½¿ç”¨ç®€åŒ–æ–¹æ¡ˆ |
| æ—¶é—´ä¸å¤Ÿ | ä¸­ | é«˜ | MVPä¼˜å…ˆ | åˆ†æœŸå®ç° |

---

## 8. æˆåŠŸæ ‡å‡†

### 8.1 åŠŸèƒ½æ ‡å‡†

| åŠŸèƒ½ | éªŒæ”¶æ ‡å‡† |
|------|----------|
| è´¢åŠ¡æ¦‚è§ˆå¡ç‰‡ | 4ä¸ªå¡ç‰‡ï¼ˆæ”¶å…¥ã€æ”¯å‡ºã€ä½™é¢ã€äº¤æ˜“æ•°ï¼‰ï¼Œæ•°æ®å‡†ç¡®ï¼Œå®æ—¶æ›´æ–° |
| æ´»åŠ¨æ—¶é—´çº¿ | æœ€å¤š10æ¡æ´»åŠ¨ï¼ŒæŒ‰æ—¶é—´å€’åºï¼Œæ”¯æŒç­›é€‰ |
| æ‰‹åŠ¨åˆ·æ–° | ç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼Œæ•°æ®æ›´æ–°ï¼Œæœ‰åŠ¨ç”»åé¦ˆ |
| è‡ªåŠ¨åˆ·æ–° | æ¯60ç§’è‡ªåŠ¨æ›´æ–°ï¼Œæ˜¾ç¤ºåˆ·æ–°çŠ¶æ€ |

### 8.2 æ€§èƒ½æ ‡å‡†

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | æµ‹é‡æ–¹æ³• |
|------|--------|----------|
| é¦–æ¬¡æ¸²æŸ“æ—¶é—´ | <500ms | Performance API |
| æ•°æ®åˆ·æ–°æ—¶é—´ | <200ms | Network Log |
| è§†å›¾åˆ‡æ¢æ—¶é—´ | <300ms | Performance API |
| å†…å­˜å ç”¨ | <50MB | DevTools Memory |

### 8.3 ç”¨æˆ·ä½“éªŒæ ‡å‡†

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | æµ‹é‡æ–¹æ³• |
|------|--------|----------|
| åŠ¨ç”»æµç•…åº¦ | 60fps | DevTools Performance |
| Lighthouseåˆ†æ•° | >90 | Lighthouse |
| å¯¹æ¯”åº¦ | â‰¥4.5:1 | WCAGå·¥å…· |
| é”®ç›˜å¯¼èˆª | å®Œæ•´æ”¯æŒ | æ‰‹åŠ¨æµ‹è¯• |

---

## 9. æŠ€æœ¯å®ç°è¦ç‚¹

### 9.1 å‰ç«¯æŠ€æœ¯è¦ç‚¹

#### ç®€å•çŠ¶æ€ç®¡ç†

```javascript
const DashboardView = {
  state: {
    stats: null,
    activities: [],
    loading: false,
    error: null,
    lastUpdate: null
  },

  setState(newState) {
    Object.assign(this.state, newState);
    this.render();
  }
};
```

#### æ•°æ®ç¼“å­˜

```javascript
const CacheManager = {
  cache: new Map(),
  ttl: 5 * 60 * 1000, // 5åˆ†é’Ÿ

  get(key) {
    const item = this.cache.get(key);
    if (!item) return null;

    if (Date.now() - item.timestamp > this.ttl) {
      this.cache.delete(key);
      return null;
    }

    return item.data;
  },

  set(key, data) {
    this.cache.set(key, {
      data,
      timestamp: Date.now()
    });
  }
};
```

#### é˜²æŠ–/èŠ‚æµ

```javascript
function debounce(fn, delay) {
  let timer;
  return function(...args) {
    clearTimeout(timer);
    timer = setTimeout(() => fn.apply(this, args), delay);
  };
}

function throttle(fn, interval) {
  let last = 0;
  return function(...args) {
    const now = Date.now();
    if (now - last > interval) {
      last = now;
      fn.apply(this, args);
    }
  };
}
```

### 9.2 åç«¯æŠ€æœ¯è¦ç‚¹

#### APIå“åº”ç¼“å­˜

```python
from fastapi import Response
import hashlib
import json

@router.get("/stats")
async def get_dashboard_stats(current_user: User = Depends(get_current_user)):
    # ç”ŸæˆETag
    data = await get_stats_data(current_user.id)
    etag = hashlib.md5(json.dumps(data).encode()).hexdigest()

    headers = {
        "Cache-Control": "public, max-age=300",  # 5åˆ†é’Ÿ
        "ETag": etag
    }

    return Response(
        content=json.dumps({"success": True, "data": data}),
        media_type="application/json",
        headers=headers
    )
```

#### å¹¶å‘æŸ¥è¯¢ä¼˜åŒ–

```python
from concurrent.futures import ThreadPoolExecutor

async def get_dashboard_data(user_id: int):
    with ThreadPoolExecutor() as executor:
        stats_future = executor.submit(get_stats, user_id)
        activity_future = executor.submit(get_activity, user_id)

        stats = stats_future.result()
        activity = activity_future.result()

    return {"stats": stats, "activity": activity}
```

---

## 10. æ€»ç»“

### 10.1 è®¾è®¡å†³ç­–æ€»ç»“

| å†³ç­– | é€‰æ‹© | ç†ç”± |
|------|------|------|
| æ¶æ„æ–¹æ¡ˆ | æ–¹æ¡ˆC - åŠ¡å®çš„å¹³è¡¡ | å¹³è¡¡é£é™©å’Œæ”¶ç›Šï¼Œç¬¦åˆæ—¶é—´çº¦æŸ |
| å¸ƒå±€æ–¹å¼ | ä¾§è¾¹æ +ä¸»å†…å®¹ | ç¬¦åˆç°æœ‰workspaceæ¶æ„ |
| ç»„ä»¶æ–¹å¼ | IIFEæ¨¡å— | ç®€å•ã€æ˜“ç»´æŠ¤ã€æ— æ¡†æ¶ä¾èµ– |
| çŠ¶æ€ç®¡ç† | ç®€å•çŠ¶æ€å¯¹è±¡ | é¿å…è¿‡åº¦è®¾è®¡ |
| åˆ·æ–°ç­–ç•¥ | æ‰‹åŠ¨+å®šæ—¶ï¼ˆ60ç§’ï¼‰ | å¹³è¡¡å®æ—¶æ€§å’Œæ€§èƒ½ |
| ç¼“å­˜ç­–ç•¥ | 5åˆ†é’ŸTTL | å‡å°‘APIè°ƒç”¨ |

### 10.2 é¢„æœŸæˆæœ

- âœ… æ¸…æ™°çš„UI/UXæ¶æ„è®¾è®¡
- âœ… è¯¦ç»†çš„ç»„ä»¶è§„èŒƒ
- âœ… å®Œæ•´çš„å®æ–½è“å›¾
- âœ… æ˜ç¡®çš„æˆåŠŸæ ‡å‡†
- âœ… å¯é‡åŒ–çš„éªŒæ”¶æ ‡å‡†

### 10.3 ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. âœ… è¿›å…¥Implementation Phase
2. âœ… æŒ‰ç…§Phaseé¡ºåºå®æ–½
3. âœ… æŒç»­éªŒè¯å’Œæµ‹è¯•
4. âœ… åŠæ—¶è°ƒæ•´å’Œä¼˜åŒ–

---

**æŠ¥å‘ŠçŠ¶æ€**: âœ… å®Œæˆ
**ä¸‹ä¸€æ­¥**: Implementation Phase
**è´Ÿè´£äºº**: Design Agent
**å®¡æ ¸äºº**: å¾…æŒ‡å®š
