# Exploration Phase Prompt

## 端到端交付 - Exploration Phase（代码库探索阶段）

### 任务目标
探索和分析现有代码库，了解workspace.html、dashboard相关代码、以及现有设计系统，为UI/UX重构提供技术基础。

### 已确认的需求决策
1. **页面整合**: 完全合并为统一首页（workspace作为主入口）
2. **核心功能**: 财务概览卡片 + 活动时间线 + 趋势图表（后续迭代）
3. **目标用户**: 个人理财用户
4. **设计风格**: 更简洁现代
5. **移动端**: 暂不需要，专注桌面
6. **数据刷新**: 手动+定时刷新
7. **时间约束**: 1周内MVP

### 需要探索的关键领域

1. **前端模板结构**
   - `web_service/templates/workspace.html` - 主工作空间页面
   - `web_service/templates/index.html` - 当前首页
   - `web_service/templates/components/` - 可复用组件
   - 模板继承和组织方式

2. **后端API接口**
   - `web_service/routes/dashboard.py` - 仪表盘数据API
   - 现有的统计数据接口
   - 活动时间线数据接口
   - 需要新增或修改的接口

3. **静态资源**
   - `web_service/static/css/` - 样式文件
   - `web_service/static/js/` - JavaScript文件
   - 现有的设计系统定义

4. **设计系统**
   - `design-system/` 目录下的设计规范
   - 颜色、字体、间距、组件规范
   - Ethereal Fintech Pro 设计系统

5. **数据模型**
   - `models.py` - 数据库模型
   - `schemas.py` - API数据模型
   - 账单、用户、活动相关的数据结构

### 执行要求

1. **渐进式检索模式** (Iterative Retrieval v3.0)
   - DISPATCH: 初步扫描代码库结构
   - EVALUATE: 评估关键文件的完整性
   - REFINE: 深入分析具体实现
   - LOOP: 最多3次循环，逐步细化理解

2. **关键文件标注**
   - 标注需要修改的文件
   - 标注可以复用的组件
   - 标注技术债务和改进点

3. **现有模式识别**
   - 导航模式
   - 数据加载模式
   - 错误处理模式
   - 用户反馈模式

### 输出要求

请生成以下文档：

1. **代码库结构映射**
   - 前端模板层次图
   - 后端API路由图
   - 静态资源组织图
   - 数据流向图

2. **关键文件清单**
   - 需要修改的文件列表（优先级P0/P1/P2）
   - 可以复用的组件列表
   - 需要新增的文件列表

3. **技术债务清单**
   - 代码异味
   - 性能问题
   - 安全隐患
   - 可维护性问题

4. **现有设计系统分析**
   - 当前设计变量和规范
   - 组件库完整性评估
   - 需要补充的设计元素

5. **实施建议**
   - 推荐的技术方案
   - 潜在技术风险
   - 依赖清单

请开始执行代码库探索阶段，使用渐进式检索模式逐步深入理解代码库。
