# Discovery Phase Prompt

## 端到端交付 - Discovery Phase（需求发现阶段）

### 任务目标
重构当前项目的首页（workspace）和仪表盘页面，采用全局UI/UX设计，体现账单管理的全流程，使之成为一个整体，涵盖账单上传、导入、复盘等全流程。

### 项目背景
这是一个Python账单导入服务项目，主要功能：
- 用户认证系统（注册、登录、密码管理）
- 多用户支持与数据隔离
- 账单自动导入（支付宝、微信、银联）
- 账单历史记录跟踪
- 个人设置管理
- 角色权限控制（管理员/普通用户）
- 账单复盘功能（月度、季度、年度财务报告）

### 技术栈
- 后端：FastAPI + Uvicorn + SQLAlchemy
- 前端：Jinja2模板 + 原生JavaScript + CSS
- 数据库：SQLite
- 外部集成：Notion API

### 核心任务
1. **需求澄清**：与用户沟通，明确重构范围和优先级
2. **用户画像分析**：识别主要用户群体和使用场景
3. **功能需求定义**：明确首页和仪表盘需要包含哪些功能
4. **验收标准**：定义可量化的验收标准
5. **风险评估**：识别技术风险和业务风险
6. **约束条件**：明确技术、时间、资源等约束

### 需要澄清的关键问题
请与用户澄清以下问题：

1. **重构范围**：
   - 首页（workspace）需要展示哪些核心功能？
   - 仪表盘页面是指单独的dashboard页面还是首页的一部分？
   - 是否需要保留现有的所有功能模块？

2. **用户场景**：
   - 用户主要使用场景是什么？（快速导入 vs 深度分析）
   - 不同角色（管理员/普通用户）的视图差异？
   - 是否需要移动端适配？

3. **设计风格**：
   - 是否有参考的设计风格或竞品？
   - 品牌色和设计规范是否已定义？
   - 偏好的设计语言（简洁、专业、活泼等）？

4. **功能优先级**：
   - 哪些功能是MVP必须的？
   - 哪些功能可以后续迭代优化？
   - 是否有deadline约束？

5. **数据展示**：
   - 仪表盘需要展示哪些关键指标？
   - 是否需要图表可视化？
   - 数据刷新频率要求？

6. **交互流程**：
   - 用户的核心操作路径是什么？
   - 是否需要引导新用户？
   - 错误处理和反馈机制？

### 执行要求
1. 首先阅读现有的workspace.html和index.html模板，了解当前实现
2. 使用AskUserQuestion工具与用户进行需求澄清（至少5个关键问题）
3. 生成详细的需求文档
4. 定义清晰的验收标准
5. 评估需求复杂度（功能/技术/规模/风险四个维度）
6. 识别潜在风险和约束条件

### 输出要求
请生成以下文档：
1. 需求澄清报告（包含用户回答）
2. 用户画像和使用场景
3. 功能需求列表（按优先级排序）
4. 验收标准矩阵
5. 需求复杂度评估
6. 风险和约束清单
7. 建议的开发模式（瀑布流/敏捷）

请开始执行需求发现阶段。
