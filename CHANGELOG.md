# 更新日志

所有项目重要变更都将记录在此文件中。

## [2.2.0] - 2026-02-06

### 新增功能 🎉

#### 账单复盘管理
- ✨ 支持月度、季度、年度财务复盘生成
- ✨ 账单导入后智能提示生成复盘
- ✨ 复盘数据预览功能，生成前可查看内容
- ✨ 复盘配置管理，支持自定义复盘数据库和模板
- ✨ 一键生成快速复盘（月度/季度/年度）
- ✨ 自定义周期复盘生成

#### Dashboard仪表盘
- 📊 新增财务概览卡片（收入、支出、净余额、交易笔数）
- 📈 新增活动时间线，显示最近操作记录
- 🔄 支持手动刷新和自动刷新（每60秒）
- 🎯 数据实时更新，无需刷新页面

#### 财务中心页面
- 💰 统一的财务管理入口
- 📊 快速访问各项财务功能
- 🔗 便捷的导航链接

#### 工作空间页面
- 🏠 个人财务管理工作空间
- 📋 集成账单管理和复盘功能

### UI/UX 改进 🎨

#### 首页完全重写
- 🌟 采用现代化设计语言
- 🎨 渐变背景和玻璃态效果
- 📱 完全响应式设计
- ✨ 更流畅的动画和过渡效果

#### 设计系统
- 🎨 新增CSS变量系统 (`variables.css`)
- 🧩 新增通用组件库 (`components.css`)
- 🎯 统一的视觉语言和交互模式
- 📐 标准化的间距、颜色、字体系统

#### 组件优化
- 🔔 新增Toast通知系统，替代传统alert
- 📝 新增表单验证器，提升用户体验
- 🎭 新增图标系统，统一图标管理
- 🖼️ 模态框优化，全屏显示表格数据

#### 页面优化
- 💅 所有页面UI改进，统一设计风格
- 📱 优化移动端显示效果
- ♿ 改进无障碍访问性
- 🎨 更清晰的视觉层次

### 安全性加强 🔒

#### 页面级认证
- 🛡️ 修复页面认证绕过漏洞
- 🔒 所有敏感页面需要认证访问
- 🍪 新增Cookie-based认证支持
- 🔐 区分公开页面、认证页面、管理员页面
- ⚡ 登录后自动设置Cookie，支持页面级认证

#### 权限控制
- 👤 用户角色权限控制（管理员/普通用户）
- 🚫 未认证用户自动重定向到登录页
- ✅ 支持单用户模式和多云租模式

### 文档完善 📚

#### API文档
- 📖 新增完整的API参考文档 (`docs/API_REFERENCE.md`)
- 🔗 详细的接口说明和使用示例

#### 开发文档
- 📝 新增UI/UX设计系统文档
- 📊 新增功能实现报告
- 📐 新增开发过程文档

### 技术改进 ⚙️

#### 代码优化
- 🧹 消除重复代码
- 📦 改进导入组织
- 🔍 优化DOM查询性能
- 🎯 改进类型提示

#### 数据库
- 🗄️ 新增复盘配置表
- 📊 支持用户自定义复盘数据库和模板

### Bug修复 🐛

#### 核心问题
- 🐛 修复登录后点击导航跳转到首页的问题
- 🐛 修复模态框在左上角显示的问题
- 🐛 修复模态框遮层无法关闭的问题
- 🐛 修复内容预览弹窗显示不全的问题

### 依赖更新 📦

#### 新增依赖
- Python依赖更新（具体见requirements.txt）
- 新增前端工具库

---

## [2.1.0] - 2025-XX-XX

### 新增功能
- 添加用户认证系统
- 添加管理后台功能
- 添加账单历史记录

### 改进
- 优化账单导入逻辑
- 改进错误处理

---

## [2.0.0] - 2025-XX-XX

### 新增功能
- 支持多用户模式
- 支持支付宝、微信支付、银联账单导入
- 自动检测账单平台
- Web服务界面

### 改进
- 数据库路由到收入/支出数据库
- 智能过滤"不计收支"记录

---

## [1.0.0] - 2025-XX-XX

### 初始版本
- 基础账单导入功能
- 命令行使用方式
